(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{25:function(e,t,n){e.exports={table:"Results_table__1LfOJ",head:"Results_head__lIcIQ",row:"Results_row__3NOw7",item:"Results_item__3t02t",empty:"Results_empty__1Njqh"}},27:function(e,t,n){e.exports={container:"Card_container__3wAV0",card:"Card_card__3ohV0",front:"Card_front__3Gs6P",back:"Card_back__1KXLK",disabled:"Card_disabled__11A2D"}},28:function(e,t,n){e.exports={container:"Error_container__1r47t",content:"Error_content__31cqs",subheading:"Error_subheading__2Qvh5",heading:"Error_heading__1-rmY",description:"Error_description__TPpj4",link:"Error_link__36WIg"}},37:function(e,t,n){e.exports={form:"Player_form__2NcyP",label:"Player_label__UaXzd",error:"Player_error__2AiTP",input:"Player_input__1GF31"}},50:function(e,t,n){e.exports={row:"Game_row__21yo6",heading:"Game_heading__C5H_m"}},51:function(e,t,n){e.exports={container:"Main_container__RziVg",content:"Main_content__CpvgR"}},52:function(e,t,n){e.exports={container:"Preloader_container__3gbrS",heading:"Preloader_heading__372rm",loading:"Preloader_loading__1bUCY"}},58:function(e,t,n){e.exports={button:"Button_button__31RAP"}},59:function(e,t,n){e.exports={container:"Cards_container__2oDit"}},60:function(e,t,n){e.exports={container:"Home_container__FweIA"}},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"board",(function(){return N})),n.d(r,"player",(function(){return I})),n.d(r,"results",(function(){return R}));var a=n(1),c=n(29),i=n(10),o=n(56),s=n(22),l=n(26),d={IS_PROD:!0,IS_DEV:!1},u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},f=n(23),p=n(57),h=n.n(p),m=n(14),O=Object(f.b)({name:"board",initialState:{isInitialFlipped:!0,board:[]},reducers:{setIsInitialFlipped:function(e,t){var n=t.payload;e.isInitialFlipped=n},setBoard:function(e,t){var n=t.payload;e.board=n}}}),v=O.reducer,_=O.actions,g={setIsInitialFlipped:_.setIsInitialFlipped,setBoard:_.setBoard},x=function(e){return e.board.isInitialFlipped},y=function(e){return e.board.board},w=function(e){return 0===e.board.board.filter((function(e){return"string"===typeof e})).length},N=v,k=Object(f.b)({name:"player",initialState:{nickname:"",points:0},reducers:{addPoints:function(e,t){var n=t.payload;e.points+=n},clearPoints:function(e){e.points=0},setNickname:function(e,t){var n=t.payload;e.nickname=n}}}),P=k.reducer,S=k.actions,F={addPoints:S.addPoints,setNickname:S.setNickname,setBoard:S.setBoard,clearPoints:S.clearPoints},C=function(e){return e.player.nickname},E=function(e){return e.player.points},I=P,A=Object(f.b)({name:"results",initialState:{results:[]},reducers:{savePlayer:function(e,t){var n=t.payload;e.results.push(n)}}}),D=A.reducer,T={savePlayer:A.actions.savePlayer},B=function(e){return e.results.results.slice().sort((function(e,t){var n=e.points;return t.points-n}))},R=D,z=Object(f.a)({reducer:Object(s.g)({key:"store",storage:h.a},Object(m.b)(r)),middleware:Object(f.c)({serializableCheck:{ignoredActions:[s.a,s.f,s.b,s.c,s.d,s.e]}}),devTools:d.IS_DEV}),M=n(3),W=n(7),L=n(21),G=n(58),V=n.n(G),U=n(2),X=function(e){var t=e.children,n=e.className,r=Object(L.a)(e,["children","className"]),a=r.to?l.b:"button";return Object(U.jsx)(a,Object(M.a)(Object(M.a)({},r),{},{className:n||V.a.button,children:t}))};X.defaultProps={children:"Simple title",className:""};var J=X,q=n(25),H=n.n(q),K=function(){var e=B,t=Object(i.c)(e);return Object(U.jsxs)("div",{children:[Object(U.jsxs)("table",{className:H.a.table,children:[Object(U.jsx)("thead",{children:Object(U.jsx)("tr",{children:["Name","Points"].map((function(e){return Object(U.jsx)("th",{className:H.a.head,scope:"col",children:e},e)}))})}),Object(U.jsx)("tbody",{children:t.length?t.map((function(e,t){var n=e.nickname,r=e.points;return Object(U.jsxs)("tr",{className:H.a.row,children:[Object(U.jsx)("td",{className:H.a.item,children:n}),Object(U.jsx)("td",{className:H.a.item,children:r})]},"".concat(n,"_").concat(t))})):Object(U.jsx)("div",{className:"".concat(H.a.row," ").concat(H.a.empty),children:"No data"})})]}),Object(U.jsx)(J,{to:"/",children:"Reset game"})]})},Q=function(){return Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Leaderboard"}),Object(U.jsx)(K,{})]})},Y=n(8),$=n(49),Z=["\ud83d\ude00","\ud83e\udd76","\ud83e\udd73","\ud83e\udd21","\ud83d\udc7b","\ud83e\udd16","\ud83d\udc9a","\ud83d\udca3","\ud83d\udca4","\ud83d\udc4b","\ud83d\udc85","\ud83e\udde0","\ud83d\udc40","\ud83d\ude4b\u200d\u2640\ufe0f","\ud83d\udc36","\ud83e\udd84","\ud83d\udc37","\ud83e\udd86","\ud83d\udc1b","\ud83c\udf4e","\ud83c\udf49","\ud83c\udf46","\ud83c\udf7f","\ud83c\udf6a","\ud83c\udf6d","\ud83c\udf7e","\ud83c\udfd6","\ud83d\ude95","\ud83d\ude80","\u2b50","\ud83c\udf81"],ee=n(20),te=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}},ne=function(e){return"object"===typeof e},re=function(e){var t=+e;if(Number.isNaN(t)||t<=0)throw Error("Board size must be number from 0 to ".concat(Z.length,"."));if(t>Z.length)throw Error("Board size cannot be greater than ".concat(Z.length,"."));var n=Object(ee.a)(Z);te(n);var r=n.slice(0,e),a=[].concat(Object(ee.a)(r),Object(ee.a)(r));return te(a),a},ae=n(42),ce=n(27),ie=n.n(ce),oe=function(e){var t=e.value,n=e.isFlipped,r=e.selectCard,c=Object(a.useMemo)((function(){return!!ne(t)||n}),[n,t]),i=Object(ae.useSpring)({opacity:c?1:0,transform:"perspective(600px) rotateX(".concat(c?180:0,"deg)"),config:{mass:5,tension:500,friction:80}}),o=i.transform,s=i.opacity,l=Object(a.useMemo)((function(){return ne(t)?t.value:t}),[t]);return Object(U.jsxs)("div",{className:"".concat(ie.a.container," ").concat(t.disabled&&ie.a.disabled),onClick:r,children:[Object(U.jsx)(ae.animated.div,{className:"".concat(ie.a.card," ").concat(ie.a.front),style:{opacity:s.to((function(e){return 1-e})),transform:o}}),Object(U.jsx)(ae.animated.div,{className:"".concat(ie.a.card," ").concat(ie.a.back),style:{opacity:s,transform:o.to((function(e){return"".concat(e," rotateX(180deg)")}))},children:l})]})};oe.defaultProps={value:"",isFlipped:!1,selectCard:function(){}};var se=oe,le=n(59),de=n.n(le),ue=function(e){var t=e.cards,n=e.initialFlipped,r=e.selected,a=r.first,c=r.second,i=e.boardSize,o=e.selectCard,s={gridTemplate:"repeat(".concat(i,", 1fr) / repeat(").concat(i,", 1fr)"),height:"calc(".concat(i,"*100px)")};return Object(U.jsx)("div",{className:de.a.container,style:s,children:t.map((function(e,t){var r=n||a.index===t||c.index===t;return Object(U.jsx)(se,{isDisabled:e.disabled,isFlipped:r,selectCard:function(){return o(e,t)},value:e},"".concat(e,"_").concat(t))}))})};ue.defaultProps={cards:[],initialFlipped:!1,boardSize:0,selectCard:function(){}};var be=ue,je=function(e){var t=e.size,n=e.config,r=y,c=x,o=w,s=g.setBoard,l=g.setIsInitialFlipped,d=T.savePlayer,u=F.addPoints,b=F.clearPoints,j=C,f=E,p=Object(i.c)(r),h=Object(i.c)(c),m=Object(i.c)(o),O=Object(i.c)(j),v=Object(i.c)(f),_=Object(i.b)(),N=Object(W.f)(),k=Object($.a)((function(){return m?re(t):p})),P=Object(Y.a)(k,2),S=P[0],I=P[1],A=Object($.a)({first:{card:"",index:-1},second:{card:"",index:-1}}),D=Object(Y.a)(A,2),B=D[0],R=D[1],z=Object(a.useCallback)((function(){R((function(e){var t={card:"",index:-1};e.first=t,e.second=t}))}),[R]);return Object(a.useEffect)((function(){var e=B.first,t=B.second;if(-1!==e.index&&-1!==t.index){if(e.card!==t.card){_(u(n.wrongAnswerPoints));var r=setTimeout(z,n.wrongAnswerFlipDelay);return function(){clearTimeout(r)}}var a=function(e){return{value:e.card,disabled:!0}};I((function(n){n[e.index]=a(e),n[t.index]=a(t)})),_(u(n.correctAnswerPoints)),z()}}),[_,n,I,R,z,B,u]),Object(a.useEffect)((function(){if(m&&v>0)return _(d({nickname:O,points:v})),_(b()),_(s(S)),_(l(!0)),void N.push("/leaderboards");_(s(S))}),[S,_,N,m,v,O,s,l,d,b]),Object(a.useEffect)((function(){var e=setTimeout((function(){_(l(!1))}),n.initialDelayBeforeFlip);return function(){clearTimeout(e)}}),[_,n,l]),Object(U.jsx)(be,{boardSize:t/2,cards:S,initialFlipped:h,selectCard:function(e,t){var n=function(n){return R((function(r){r[n].card=e,r[n].index=t}))},r=function(e){return-1===e.index||e.index===t},a=B.first,c=B.second;r(a)?n("first"):r(c)&&n("second")},selected:B})};je.defaultProps={config:{wrongAnswerPoints:-100,correctAnswerPoints:200,initialDelayBeforeFlip:2e3,wrongAnswerFlipDelay:1e3}};var fe=je,pe=n(50),he=n.n(pe),me=function(){var e=C,t=E,n=Object(i.c)(e),r=Object(i.c)(t);return Object(U.jsxs)("div",{className:he.a.row,children:[Object(U.jsxs)("h1",{className:he.a.heading,children:[Object(U.jsxs)("span",{children:["Player: ",n]})," ",Object(U.jsx)("span",{children:r})]}),Object(U.jsx)(fe,{size:8})]})},Oe=n(37),ve=n.n(Oe),_e=function(){var e=C,t=F.setNickname,n=Object(i.c)(e),r=Object(a.useState)(n),c=Object(Y.a)(r,2),o=c[0],s=c[1],l=Object(a.useState)(!1),d=Object(Y.a)(l,2),u=d[0],b=d[1],j=Object(a.useState)(""),f=Object(Y.a)(j,2),p=f[0],h=f[1],m=Object(W.f)(),O=Object(i.b)(),v=function(e){b(!0);var t=e.length<3,n=e.length>32;return t||n?(h(t?"Nickname is too short.":"Nickname is too long."),!1):(h(!1),!0)};return Object(U.jsxs)("form",{className:ve.a.form,onSubmit:function(e){e.preventDefault(),v(o)&&(O(t(o)),m.push("/game"))},children:[Object(U.jsx)("label",{className:ve.a.label,htmlFor:"nickname-input",children:"Nickname"}),Object(U.jsx)("input",{className:ve.a.input,id:"nickname-input",name:"nickname",onChange:function(e){var t=e.target.value;s(t),v(t)},value:o}),Object(U.jsx)("div",{className:ve.a.error,children:u&&p}),Object(U.jsx)(J,{type:"submit",children:"Start game"})]})},ge=n(60),xe=n.n(ge),ye=function(){return Object(U.jsxs)("div",{className:xe.a.container,children:[Object(U.jsx)("h1",{children:"Memory game"}),Object(U.jsx)(_e,{})]})},we=n(28),Ne=n.n(we),ke=function(e){var t=e.title,n=e.description,r=e.subTitle;return Object(U.jsx)("div",{className:Ne.a.container,children:Object(U.jsxs)("div",{className:Ne.a.content,children:[r&&Object(U.jsx)("h2",{className:Ne.a.subheading,children:r}),Object(U.jsx)("h1",{className:Ne.a.heading,children:t}),Object(U.jsx)("p",{className:Ne.a.description,children:n}),Object(U.jsx)(J,{className:Ne.a.link,to:"/",children:"Go back home"})]})})};ke.defaultProps={title:"404",description:"We can't find the page you're looking for.",subTitle:""};var Pe=ke,Se=[{id:"leaderboards",path:"/leaderboards",component:Q},{id:"game",path:"/game",component:me},{id:"home",path:"/",exact:!0,component:ye},{id:"error",component:Pe,props:{subTitle:"Oops! Nothing was found."}}],Fe=n(51),Ce=n.n(Fe),Ee=function(e){var t=e.children;return Object(U.jsx)("div",{className:Ce.a.container,children:Object(U.jsx)("div",{className:Ce.a.content,children:t})})},Ie=function(){return Object(U.jsx)(Ee,{children:Object(U.jsx)(W.c,{children:Se.map((function(e){var t=e.id,n=e.path,r=e.exact,a=e.component,c=e.props;return Object(U.jsx)(W.a,{exact:r,path:n,children:Object(U.jsx)(a,Object(M.a)({},c))},t)}))})})},Ae=n(52),De=n.n(Ae),Te=function(){return Object(U.jsx)("div",{className:De.a.container,children:Object(U.jsx)("h1",{className:De.a.heading,children:"Loading..."})})},Be=n(5),Re=n(11),ze=n(12),Me=n(13),We=function(e){Object(ze.a)(n,e);var t=Object(Me.a)(n);function n(){var e;Object(Be.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(Re.a)(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.fallback;return e?r:n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component),Le=(n(74),Object(s.h)(z)),Ge=Object(U.jsx)(Te,{}),Ve=Object(U.jsx)(Pe,{description:"Something went wrong!",title:"Error"});Object(c.render)(Object(U.jsx)(a.StrictMode,{children:Object(U.jsx)(i.a,{store:z,children:Object(U.jsx)(o.a,{loading:Ge,persistor:Le,children:Object(U.jsx)(l.a,{children:Object(U.jsx)(We,{fallback:Ve,children:Object(U.jsx)(Ie,{})})})})})}),document.getElementById("root")),function(e){if(d.IS_PROD&&"serviceWorker"in navigator){if(new URL("/MemoryGame",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/MemoryGame","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):b(t,e)}))}}(),d.IS_DEV&&j(console.log)}},[[75,1,2]]]);
//# sourceMappingURL=main.e7758461.chunk.js.map
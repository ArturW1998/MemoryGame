(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{25:function(e,t,n){e.exports={table:"Results_table__1LfOJ",head:"Results_head__lIcIQ",row:"Results_row__3NOw7",item:"Results_item__3t02t",empty:"Results_empty__1Njqh"}},27:function(e,t,n){e.exports={container:"Card_container__3wAV0",card:"Card_card__3ohV0",front:"Card_front__3Gs6P",back:"Card_back__1KXLK",disabled:"Card_disabled__11A2D"}},28:function(e,t,n){e.exports={container:"Error_container__1r47t",content:"Error_content__31cqs",subheading:"Error_subheading__2Qvh5",heading:"Error_heading__1-rmY",description:"Error_description__TPpj4",link:"Error_link__36WIg"}},37:function(e,t,n){e.exports={form:"Player_form__2NcyP",label:"Player_label__UaXzd",error:"Player_error__2AiTP",input:"Player_input__1GF31"}},51:function(e,t,n){e.exports={row:"Game_row__21yo6",heading:"Game_heading__C5H_m"}},52:function(e,t,n){e.exports={container:"Main_container__RziVg",content:"Main_content__CpvgR"}},53:function(e,t,n){e.exports={container:"Preloader_container__3gbrS",heading:"Preloader_heading__372rm",loading:"Preloader_loading__1bUCY"}},59:function(e,t,n){e.exports={button:"Button_button__31RAP"}},60:function(e,t,n){e.exports={container:"Cards_container__2oDit"}},61:function(e,t,n){e.exports={container:"Home_container__FweIA"}},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"board",(function(){return k})),n.d(r,"player",(function(){return T})),n.d(r,"results",(function(){return M}));var a=n(1),c=n(29),i=n(10),o=n(57),s=n(22),l=n(26),d={IS_PROD:!0,IS_DEV:!1},u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},f=n(23),h=n(58),p=n.n(h),m=n(14),O=n(3),v=Object(f.b)({name:"board",initialState:{isInitialFlipped:!0,board:[]},reducers:{setIsInitialFlipped:function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{isInitialFlipped:n})},setBoard:function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{board:n})}}}),_=v.reducer,g=v.actions,x={setIsInitialFlipped:g.setIsInitialFlipped,setBoard:g.setBoard},y=function(e){return e.board.isInitialFlipped},w=function(e){return e.board.board},N=function(e){return 0===e.board.board.filter((function(e){return"string"===typeof e})).length},k=_,P=Object(f.b)({name:"player",initialState:{nickname:"",points:0},reducers:{addPoints:function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{points:e.points+n})},clearPoints:function(e){return Object(O.a)(Object(O.a)({},e),{},{points:0})},setNickname:function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{nickname:n})}}}),S=P.reducer,F=P.actions,C={addPoints:F.addPoints,setNickname:F.setNickname,setBoard:F.setBoard,clearPoints:F.clearPoints},E=function(e){return e.player.nickname},I=function(e){return e.player.points},T=S,A=n(15),D=Object(f.b)({name:"results",initialState:{results:[]},reducers:{savePlayer:function(e,t){var n=t.payload;return Object(O.a)(Object(O.a)({},e),{},{results:[].concat(Object(A.a)(e.results),[n])})}}}),B=D.reducer,R={savePlayer:D.actions.savePlayer},z=function(e){return e.results.results.slice().sort((function(e,t){var n=e.points;return t.points-n}))},M=B,W=Object(f.a)({reducer:Object(s.g)({key:"store",storage:p.a},Object(m.b)(r)),middleware:Object(f.c)({serializableCheck:{ignoredActions:[s.a,s.f,s.b,s.c,s.d,s.e]}}),devTools:d.IS_DEV}),L=n(7),G=n(21),V=n(59),U=n.n(V),X=n(2),J=function(e){var t=e.children,n=e.className,r=Object(G.a)(e,["children","className"]),a=r.to?l.b:"button";return Object(X.jsx)(a,Object(O.a)(Object(O.a)({},r),{},{className:n||U.a.button,children:t}))};J.defaultProps={children:"Simple title",className:""};var q=J,H=n(25),K=n.n(H),Q=function(){var e=z,t=Object(i.c)(e);return Object(X.jsxs)("div",{children:[Object(X.jsxs)("table",{className:K.a.table,children:[Object(X.jsx)("thead",{children:Object(X.jsx)("tr",{children:["Name","Points"].map((function(e){return Object(X.jsx)("th",{className:K.a.head,scope:"col",children:e},e)}))})}),Object(X.jsx)("tbody",{children:t.length?t.map((function(e,t){var n=e.nickname,r=e.points;return Object(X.jsxs)("tr",{className:K.a.row,children:[Object(X.jsx)("td",{className:K.a.item,children:n}),Object(X.jsx)("td",{className:K.a.item,children:r})]},"".concat(n,"_").concat(t))})):Object(X.jsx)("div",{className:"".concat(K.a.row," ").concat(K.a.empty),children:"No data"})})]}),Object(X.jsx)(q,{to:"/",children:"Reset game"})]})},Y=function(){return Object(X.jsxs)("div",{children:[Object(X.jsx)("h1",{children:"Leaderboard"}),Object(X.jsx)(Q,{})]})},$=n(40),Z=n(8),ee=n(50),te=["\ud83d\ude00","\ud83e\udd76","\ud83e\udd73","\ud83e\udd21","\ud83d\udc7b","\ud83e\udd16","\ud83d\udc9a","\ud83d\udca3","\ud83d\udca4","\ud83d\udc4b","\ud83d\udc85","\ud83e\udde0","\ud83d\udc40","\ud83d\ude4b\u200d\u2640\ufe0f","\ud83d\udc36","\ud83e\udd84","\ud83d\udc37","\ud83e\udd86","\ud83d\udc1b","\ud83c\udf4e","\ud83c\udf49","\ud83c\udf46","\ud83c\udf7f","\ud83c\udf6a","\ud83c\udf6d","\ud83c\udf7e","\ud83c\udfd6","\ud83d\ude95","\ud83d\ude80","\u2b50","\ud83c\udf81"],ne=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}},re=function(e){return"object"===typeof e},ae=function(e){var t=+e;if(Number.isNaN(t)||t<=0)throw Error("Board size must be number from 0 to ".concat(te.length,"."));if(t>te.length)throw Error("Board size cannot be greater than ".concat(te.length,"."));var n=Object(A.a)(te);ne(n);var r=n.slice(0,e),a=[].concat(Object(A.a)(r),Object(A.a)(r));return ne(a),a},ce=n(43),ie=n(27),oe=n.n(ie),se=function(e){var t=e.value,n=e.isFlipped,r=e.selectCard,c=Object(a.useMemo)((function(){return!!re(t)||n}),[n,t]),i=Object(ce.useSpring)({opacity:c?1:0,transform:"perspective(600px) rotateX(".concat(c?180:0,"deg)"),config:{mass:5,tension:500,friction:80}}),o=i.transform,s=i.opacity,l=Object(a.useMemo)((function(){return re(t)?t.value:t}),[t]);return Object(X.jsxs)("div",{className:"".concat(oe.a.container," ").concat(t.disabled&&oe.a.disabled),onClick:r,children:[Object(X.jsx)(ce.animated.div,{className:"".concat(oe.a.card," ").concat(oe.a.front),style:{opacity:s.to((function(e){return 1-e})),transform:o}}),Object(X.jsx)(ce.animated.div,{className:"".concat(oe.a.card," ").concat(oe.a.back),style:{opacity:s,transform:o.to((function(e){return"".concat(e," rotateX(180deg)")}))},children:l})]})};se.defaultProps={value:"",isFlipped:!1,selectCard:function(){}};var le=se,de=n(60),ue=n.n(de),be=function(e){var t=e.cards,n=e.initialFlipped,r=e.selected,a=r.first,c=r.second,i=e.boardSize,o=e.selectCard,s={gridTemplate:"repeat(".concat(i,", 1fr) / repeat(").concat(i,", 1fr)"),height:"calc(".concat(i,"*100px)")};return Object(X.jsx)("div",{className:ue.a.container,style:s,children:t.map((function(e,t){var r=n||a.index===t||c.index===t;return Object(X.jsx)(le,{isDisabled:e.disabled,isFlipped:r,selectCard:function(){return o(e,t)},value:e},"".concat(e,"_").concat(t))}))})};be.defaultProps={cards:[],initialFlipped:!1,boardSize:0,selectCard:function(){}};var je=be,fe=function(e){var t=e.size,n=e.config,r=w,c=y,o=N,s=x.setBoard,l=x.setIsInitialFlipped,d=R.savePlayer,u=C.addPoints,b=C.clearPoints,j=E,f=I,h=Object(i.c)(r),p=Object(i.c)(c),m=Object(i.c)(o),v=Object(i.c)(j),_=Object(i.c)(f),g=Object(i.b)(),k=Object(L.f)(),P=Object(ee.a)((function(){return m?ae(t):h})),S=Object(Z.a)(P,2),F=S[0],T=S[1],D=Object(ee.a)({first:{card:"",index:-1},second:{card:"",index:-1}}),B=Object(Z.a)(D,2),z=B[0],M=B[1],W=Object(a.useCallback)((function(){M((function(e){var t={card:"",index:-1};return Object(O.a)(Object(O.a)({},e),{},{first:t,second:t})}))}),[M]);return Object(a.useEffect)((function(){var e=z.first,t=z.second;if(-1!==e.index&&-1!==t.index){if(e.card!==t.card){g(u(n.wrongAnswerPoints));var r=setTimeout(W,n.wrongAnswerFlipDelay);return function(){clearTimeout(r)}}var a=function(e){return{value:e.card,disabled:!0}};T((function(n){return Object(A.a)(n).map((function(n,r){switch(r){case e.index:return a(e);case t.index:return a(t);default:return n}}))})),g(u(n.correctAnswerPoints)),W()}}),[g,n,T,M,W,z,u]),Object(a.useEffect)((function(){if(m&&_>0)return g(d({nickname:v,points:_})),g(b()),g(s(F)),g(l(!0)),void k.push("/leaderboards");g(s(F))}),[F,g,k,m,_,v,s,l,d,b]),Object(a.useEffect)((function(){var e=setTimeout((function(){g(l(!1))}),n.initialDelayBeforeFlip);return function(){clearTimeout(e)}}),[g,n,l]),Object(X.jsx)(je,{boardSize:t/2,cards:F,initialFlipped:p,selectCard:function(e,t){var n=function(n){return M((function(r){return Object(O.a)(Object(O.a)({},r),{},Object($.a)({},n,Object(O.a)(Object(O.a)({},r[n]),{},{card:e,index:t})))}))},r=function(e){return-1===e.index||e.index===t},a=z.first,c=z.second;r(a)?n("first"):r(c)&&n("second")},selected:z})};fe.defaultProps={config:{wrongAnswerPoints:-100,correctAnswerPoints:200,initialDelayBeforeFlip:2e3,wrongAnswerFlipDelay:1e3}};var he=fe,pe=n(51),me=n.n(pe),Oe=function(){var e=E,t=I,n=Object(i.c)(e),r=Object(i.c)(t);return Object(X.jsxs)("div",{className:me.a.row,children:[Object(X.jsxs)("h1",{className:me.a.heading,children:[Object(X.jsxs)("span",{children:["Player: ",n]})," ",Object(X.jsx)("span",{children:r})]}),Object(X.jsx)(he,{size:8})]})},ve=n(37),_e=n.n(ve),ge=function(){var e=E,t=C.setNickname,n=Object(a.useState)(!1),r=Object(Z.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(!1),l=Object(Z.a)(s,2),d=l[0],u=l[1],b=Object(a.useState)(""),j=Object(Z.a)(b,2),f=j[0],h=j[1],p=Object(L.f)(),m=Object(i.b)(),O=Object(i.c)(e),v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(e),h(t)};return Object(X.jsxs)("form",{className:_e.a.form,onSubmit:function(e){if(e.preventDefault(),c||!d){var n=e.currentTarget.elements.nickname;m(t(n.value)),p.push("/game")}},children:[Object(X.jsx)("label",{className:_e.a.label,htmlFor:"nickname-input",children:"Nickname"}),Object(X.jsx)("input",{className:_e.a.input,defaultValue:O,id:"nickname-input",name:"nickname",onChange:function(e){var t=e.currentTarget.value;u(!0);var n=t.length<3,r=t.length>32;n||r?v(!1,n?"Nickname is too short.":"Nickname is too long."):v()}}),Object(X.jsx)("div",{className:_e.a.error,children:d&&f}),Object(X.jsx)(q,{type:"submit",children:"Start game"})]})},xe=n(61),ye=n.n(xe),we=function(){return Object(X.jsxs)("div",{className:ye.a.container,children:[Object(X.jsx)("h1",{children:"Memory game"}),Object(X.jsx)(ge,{})]})},Ne=n(28),ke=n.n(Ne),Pe=function(e){var t=e.title,n=e.description,r=e.subTitle;return Object(X.jsx)("div",{className:ke.a.container,children:Object(X.jsxs)("div",{className:ke.a.content,children:[r&&Object(X.jsx)("h2",{className:ke.a.subheading,children:r}),Object(X.jsx)("h1",{className:ke.a.heading,children:t}),Object(X.jsx)("p",{className:ke.a.description,children:n}),Object(X.jsx)(q,{className:ke.a.link,to:"/",children:"Go back home"})]})})};Pe.defaultProps={title:"404",description:"We can't find the page you're looking for.",subTitle:""};var Se=Pe,Fe=[{id:"leaderboards",path:"/leaderboards",component:Y},{id:"game",path:"/game",component:Oe},{id:"home",path:"/",exact:!0,component:we},{id:"error",component:Se,props:{subTitle:"Oops! Nothing was found."}}],Ce=n(52),Ee=n.n(Ce),Ie=function(e){var t=e.children;return Object(X.jsx)("div",{className:Ee.a.container,children:Object(X.jsx)("div",{className:Ee.a.content,children:t})})},Te=function(){return Object(X.jsx)(Ie,{children:Object(X.jsx)(L.c,{children:Fe.map((function(e){var t=e.id,n=e.path,r=e.exact,a=e.component,c=e.props;return Object(X.jsx)(L.a,{exact:r,path:n,children:Object(X.jsx)(a,Object(O.a)({},c))},t)}))})})},Ae=n(53),De=n.n(Ae),Be=function(){return Object(X.jsx)("div",{className:De.a.container,children:Object(X.jsx)("h1",{className:De.a.heading,children:"Loading..."})})},Re=n(5),ze=n(11),Me=n(12),We=n(13),Le=function(e){Object(Me.a)(n,e);var t=Object(We.a)(n);function n(){var e;Object(Re.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(ze.a)(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.fallback;return e?r:n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component),Ge=(n(75),Object(s.h)(W)),Ve=Object(X.jsx)(Be,{}),Ue=Object(X.jsx)(Se,{description:"Something went wrong!",title:"Error"});Object(c.render)(Object(X.jsx)(a.StrictMode,{children:Object(X.jsx)(i.a,{store:W,children:Object(X.jsx)(o.a,{loading:Ve,persistor:Ge,children:Object(X.jsx)(l.a,{children:Object(X.jsx)(Le,{fallback:Ue,children:Object(X.jsx)(Te,{})})})})})}),document.getElementById("root")),function(e){if(d.IS_PROD&&"serviceWorker"in navigator){if(new URL("/MemoryGame",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/MemoryGame","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):b(t,e)}))}}(),d.IS_DEV&&j(console.log)}},[[76,1,2]]]);
//# sourceMappingURL=main.cea335af.chunk.js.map